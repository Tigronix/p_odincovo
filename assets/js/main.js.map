{"version":3,"sources":["main.js"],"names":["parsley","elems","document","querySelectorAll","forEach","elem","$","noFocus","wow","wowInit","WOW","boxClass","animateClass","offset","mobile","live","init","masks","mask","orderForm","btn","querySelector","addEventListener","isActive","classList","contains","window","matchMedia","matches","remove","OD","body","add","documentElement","event","isClickWithinOpenedDiv","top_walker","target","node","tabs","btns","contentData","getAttribute","btnNumberData","contentNodes","btnSiblings","getSiblings","btnSibling","contentNode","items","Array","from","children","item","itemNumberData","isNumberEqual","siblings","sibling","mobileMenu","btnsOpen","menus","btnOpen","menu","warningNode","btnsClose","btnClose","select","selects","close","globalDropdown","open","e","coords","getCoords","isSelectActive","cloneList","cloneNode","dropdown","appendChild","selectParams","getBoundingClientRect","coordsY","top","height","setAttribute","left","width","options","option","activeSelects","activeSelect","text","value","innerText","isBtn","historySlider","sliders","slider","dots","arrows","infinite","speed","variableWidth","centerMode","focusOnSelect","section","closest","msg","slick","on","currentSlide","nextSlide","currentSlideNode","$slides","dataDesc","setTimeout","accordion","evt","preventDefault","parentItem","itemSiblings","itemSibling","btnCoords","scrollTop","scroll","behavior","map","mapBlocks","mapBlock","dataCoords","latitude","split","longitude","push","ymaps","ready","myMap","Map","center","zoom","searchControlProvider","MyIconContentLayout","templateLayoutFactory","createClass","myPlacemark","Placemark","getCenter","iconLayout","iconImageHref","iconImageSize","iconImageOffset","set","behaviors","disable","geoObjects","controls","position","right","tag","tags","cardChannel","cards","card","cardObj","imgSrc","imgSrcWebp","title","titleDesc","number","desc","isCardPopup","cardPopup","img","imgSourceWebp","imgSourcePng","imgSourceImg","isTitleDesc","length","numbers","dataImgType","popupChannel","popups","popup","content","isNumber","isEsc","keyCode","ESC_CODE","isPopupActive","swiper","Swiper","parallax","pagination","el","clickable","navigation","nextEl","prevEl","toggle","toggleBtns","tariffSlider","prevArrow","nextArrow","responsive","breakpoint","settings","services","popupGallery","popupGalleryObj","slides","movePrev","slide","index","active","prevIndex","prevSlide","changePopup","moveNext","lastIndex","currentItem","indexOf","nextItem","header","srcset","openBtns","isOpenBtn","btnPrev","btnNext","isImgFocus","galleryItems","closeBtn","dataImg","dataImgWebp","dataHeader","itemObj","firstItem","galleryItem","id","mobileForm","openBtn","basketPopup","openBtnsMob","sectionMobile","closeBtns","openMob","closeMob","openBtnMob","basket","newsSlider","subTag","switcher","cardsContainers","isRow","cardsContainer","tariffThemeSwitch","isSection","tabBtns","tabBtn","tabItemActive","activeThemeColor","imgCol","typeLi","style","typeItem","dataTheme","tariffCard","productAnimate","icon","iconMobile","basketMobile","basketCoords","basketCoordsMobile","animate","opacity","duration","easing","tariffSwitcher","toggles","warning","isWarning","tariffDetailSlider","isSlideToIndex","slideToIndex","isSlideTo","console","log","initialSlide","changeArrowPosition","fromMobile","clearInterval","timer","arrowPrev","arrowNext","imgHeight","offsetHeight","siteContent","footer","isIe11","MSInputMethodContext","documentMode","box","pageYOffset","pageXOffset","test_func","last_parent","parentNode","firstChild","nodeType","nextSibling"],"mappings":"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","file":"main.js","sourcesContent":["const parsley = () => {\r\n  const elems = document.querySelectorAll('.js-parsley-form');\r\n\r\n  elems.forEach((elem) => {\r\n    $(elem).parsley(\r\n      {\r\n        noFocus: false,\r\n      }\r\n    );\r\n  });\r\n};\r\n\r\nconst wow = () => {\r\n    const wowInit = new WOW(\r\n    {\r\n      boxClass: 'wow',\r\n      animateClass: 'animated',\r\n      offset: 80,\r\n      mobile: false,\r\n      live: true,\r\n    }\r\n  );\r\n\r\n  wowInit.init();\r\n};\r\n\r\nconst masks = () => {\r\n  $('.js-phone-mask').mask('+7 (000) 000-00-00');\r\n  $('.js-number-mask').mask('000000');\r\n  $('.js-card-mask').mask('0000-0000-0000-0000');\r\n  $('.js-price-mask').mask('0 000 000 000');\r\n};\r\n\r\nconst orderForm = () => {\r\n  const elems = document.querySelectorAll('.js-order-form');\r\n\r\n  elems.forEach((elem) => {\r\n    const btn = elem.querySelector('.js-btn');\r\n\r\n    btn.addEventListener('click', () => {\r\n      const isActive = elem.classList.contains('active');\r\n      const mobile = window.matchMedia('(max-width: 980px)').matches;\r\n\r\n      if(isActive){\r\n        elem.classList.remove('active');\r\n        if(mobile){\r\n          OD.body.classList.remove('overflow');\r\n        }\r\n      }else{\r\n        elem.classList.add('active');\r\n        if(mobile){\r\n          OD.body.classList.add('overflow');\r\n        }\r\n      }\r\n    });\r\n\r\n    document.documentElement.addEventListener('click', function (event) {\r\n      var isClickWithinOpenedDiv = top_walker(event.target, function (node) {\r\n        return node === elem\r\n      });\r\n      if (isClickWithinOpenedDiv) {\r\n\r\n      }else{\r\n        elem.classList.remove('active');\r\n      }\r\n    }, true);\r\n  });\r\n};\r\n\r\nconst tabs = () => {\r\n\tconst btns = document.querySelectorAll('[data-tabclass]');\r\n\r\n  btns.forEach((btn) => {\r\n    btn.addEventListener('click', () => {\r\n      const contentData = btn.getAttribute('data-tabclass');\r\n      const btnNumberData = btn.getAttribute('data-tabnumber');\r\n      const contentNodes = document.querySelectorAll(`.${contentData}`);\r\n      const btnSiblings = getSiblings(btn);\r\n\r\n      // toggle btn class\r\n      btnSiblings.forEach((btnSibling) => {\r\n        btnSibling.classList.remove('active');\r\n      });\r\n\r\n      btn.classList.add('active');\r\n\r\n      // toggle contentNodes\r\n      contentNodes.forEach((contentNode) => {\r\n        const items = Array.from(contentNode.children);\r\n\r\n        items.forEach((item) => {\r\n          const itemNumberData = item.getAttribute('data-tabnumber');\r\n          const isNumberEqual = itemNumberData == btnNumberData;\r\n\r\n          if(isNumberEqual) {\r\n            const siblings = getSiblings(item);\r\n\r\n            siblings.forEach((sibling) => {\r\n              sibling.classList.remove('active');\r\n            });\r\n\r\n            item.classList.add('active');\r\n          }\r\n        });\r\n      });\r\n    });\r\n  });\r\n};\r\n\r\nconst mobileMenu = () => {\r\n  const btnsOpen = document.querySelectorAll('.js-burger');\r\n  const menus = document.querySelectorAll('.js-mobile-menu');\r\n\r\n  btnsOpen.forEach((btnOpen) => {\r\n    btnOpen.addEventListener('click', () => {\r\n      const menu = document.querySelector('.js-mobile-menu');\r\n      const isActive = menu.classList.contains('active');\r\n\r\n      if(isActive){\r\n        menu.classList.remove('active');\r\n        OD.body.classList.remove('overflow');\r\n        OD.warningNode.classList.remove('hide');\r\n      }else{\r\n        menu.classList.add('active');\r\n        OD.body.classList.add('overflow');\r\n        OD.warningNode.classList.add('hide');\r\n      }\r\n    });\r\n  });\r\n\r\n  menus.forEach((menu) => {\r\n    const btnsClose = menu.querySelectorAll('.js-close');\r\n\r\n    btnsClose.forEach((btnClose) => {\r\n      btnClose.addEventListener('click', () => {\r\n        const isActive = menu.classList.contains('active');\r\n\r\n        if(isActive){\r\n          menu.classList.remove('active');\r\n          OD.body.classList.remove('overflow');\r\n          OD.warningNode.classList.remove('hide');\r\n        }else{\r\n          menu.classList.add('active');\r\n          OD.body.classList.add('overflow');\r\n          OD.warningNode.classList.add('hide');\r\n        }\r\n      });\r\n    });\r\n  });\r\n};\r\n\r\nconst select = () => {\r\n  const selects = document.querySelectorAll('.js-select');\r\n\r\n  selects.forEach((select) => {\r\n    const btn = select.querySelector('.js-select-btn');\r\n\r\n    const close = (select) => {\r\n      select.classList.remove('active');\r\n      OD.globalDropdown.remove();\r\n    };\r\n\r\n    const open = () => {\r\n      select.classList.add('active');\r\n    };\r\n\r\n    btn.addEventListener('click', (e) => {\r\n      const coords = getCoords(btn);\r\n      OD.isSelectActive = select.classList.contains('active');\r\n\r\n      if(OD.isSelectActive){\r\n        close(select);\r\n      }else {\r\n        selects.forEach((select) => {\r\n          select.classList.remove('active');\r\n        });\r\n\r\n        select.classList.add('active');\r\n        if(OD.globalDropdown){\r\n          OD.globalDropdown.remove();\r\n        }\r\n\r\n\r\n        // clone list node & append it\r\n        const cloneList = select.querySelector('.js-list').cloneNode(true);\r\n        OD.dropdown.appendChild(cloneList);\r\n\r\n        // set list position + make it visible\r\n        const selectParams = select.getBoundingClientRect();\r\n        const coordsY = coords.top + selectParams.height;\r\n        OD.globalDropdown = OD.dropdown.querySelector('.js-list');\r\n        OD.globalDropdown.setAttribute('style', `left: ${coords.left}px; top: ${coordsY}px; width:${selectParams.width}px;`);\r\n        OD.globalDropdown.classList.add('active');\r\n\r\n        // options listener\r\n        const options = OD.dropdown.querySelectorAll('.js-select-option');\r\n\r\n        options.forEach((option) => {\r\n          option.addEventListener('click', () => {\r\n            const activeSelects = document.querySelectorAll('.js-select.active');\r\n            activeSelects.forEach((activeSelect) => {\r\n              const text = activeSelect.querySelector('.js-select-text');\r\n\r\n              const value = option.innerText;\r\n              text.innerText = value;\r\n\r\n              close(select);\r\n            });\r\n\r\n          });\r\n        });\r\n      }\r\n    });\r\n\r\n    document.documentElement.addEventListener('click', function (event) {\r\n    \tvar isClickWithinOpenedDiv = top_walker(event.target, function (node) {\r\n    \t\treturn node === OD.globalDropdown\r\n    \t});\r\n    \tif (isClickWithinOpenedDiv) {\r\n\r\n    \t}else{\r\n        const isActive = select.classList.contains('active');\r\n        const isBtn = event.target.classList.contains('js-select-btn');\r\n\r\n        if(isActive){\r\n          if(isBtn){\r\n\r\n          }else{\r\n            close(select);\r\n          }\r\n        }else{\r\n\r\n        }\r\n      }\r\n    }, true);\r\n  });\r\n};\r\n\r\nconst historySlider = () => {\r\n  const sliders = document.querySelectorAll('.js-slider-history');\r\n\r\n  sliders.forEach((slider) => {\r\n    const options = {\r\n      dots: false,\r\n      arrows: false,\r\n      infinite: false,\r\n      speed: 400,\r\n      variableWidth: true,\r\n      centerMode: true,\r\n      focusOnSelect: true\r\n    };\r\n    const section = slider.closest('.js-history');\r\n    const msg = section.querySelector('.js-msg');\r\n\r\n    $(slider).slick(options);\r\n\r\n    $(slider).slick('slickGoTo', 4);\r\n\r\n    $(slider).on('afterChange', function(event, slick, currentSlide, nextSlide){\r\n      const currentSlideNode = slick.$slides[currentSlide];\r\n      const dataDesc = currentSlideNode.getAttribute('data-desc');\r\n      msg.innerText = dataDesc;\r\n    });\r\n\r\n    setTimeout(() => {\r\n      section.classList.add('init');\r\n    }, 400);\r\n  });\r\n};\r\n\r\nconst accordion = () => {\r\n  const btns = document.querySelectorAll('.js-accordion-btn');\r\n\r\n  btns.forEach((btn) => {\r\n    btn.addEventListener('click', (evt) => {\r\n      evt.preventDefault();\r\n      const parentItem = btn.closest('.js-accordion-item');\r\n      const itemSiblings = getSiblings(parentItem);\r\n      const isActive = parentItem.classList.contains('active');\r\n\r\n      // show/hide accordion-content\r\n      itemSiblings.forEach((itemSibling) => {\r\n        itemSibling.classList.remove('active');\r\n      });\r\n\r\n      if (isActive) {\r\n        parentItem.classList.remove('active');\r\n      } else {\r\n        parentItem.classList.add('active');\r\n      }\r\n\r\n      // scroll to accordion-content\r\n      const btnCoords = getCoords(btn);\r\n      const scrollTop = btnCoords.top - 400;\r\n\r\n      window.scroll({\r\n        top: scrollTop,\r\n        behavior: 'smooth'\r\n      });\r\n    });\r\n  });\r\n};\r\n\r\nconst map = () => {\r\n  const mapBlocks = document.querySelectorAll(\"#map\");\r\n\r\n  mapBlocks.forEach((mapBlock) => {\r\n    const dataCoords = mapBlock.getAttribute(\"data-coords\");\r\n    const latitude = dataCoords.split(',')[0];\r\n    const longitude  = dataCoords.split(',')[1];\r\n    const coords = [];\r\n    coords.push(latitude);\r\n    coords.push(longitude);\r\n\r\n    ymaps.ready(function () {\r\n      var myMap = new ymaps.Map(\r\n          \"map\",\r\n          {\r\n            center: coords,\r\n            zoom: 14,\r\n          },\r\n          {\r\n            searchControlProvider: \"yandex#search\",\r\n          }\r\n        ),\r\n        MyIconContentLayout = ymaps.templateLayoutFactory.createClass(\r\n          '<div style=\"color: #FFFFFF; font-weight: bold;\">$[properties.iconContent]</div>'\r\n        ),\r\n        myPlacemark = new ymaps.Placemark(\r\n          myMap.getCenter(),\r\n          {},\r\n          {\r\n            iconLayout: \"default#image\",\r\n            iconImageHref: \"../assets/img/css/pin.svg\",\r\n            iconImageSize: [71, 95],\r\n            iconImageOffset: [-35.5, -47.5],\r\n          }\r\n        );\r\n\r\n      // myMap.setCenter(coords);\r\n      myMap.options.set(\"scrollZoomSpeed\", 0);\r\n      myMap.behaviors.disable(\"scrollZoom\");\r\n      myMap.geoObjects.add(myPlacemark);\r\n\r\n      // remove drag for mobile\r\n      const mobile = window.matchMedia(\"(max-width: 980px)\").matches;\r\n      if (mobile) {\r\n        myMap.behaviors.disable(\"drag\");\r\n      }\r\n\r\n      // remove controls\r\n      myMap.controls.remove(\"geolocationControl\");\r\n      myMap.controls.remove(\"searchControl\");\r\n      myMap.controls.remove(\"trafficControl\");\r\n      myMap.controls.remove(\"typeSelector\");\r\n      myMap.controls.remove(\"fullscreenControl\");\r\n      myMap.controls.remove(\"rulerControl\");\r\n      myMap.controls.remove(\"zoomControl\");\r\n\r\n      myMap.controls.add(\"zoomControl\", {\r\n        position: {\r\n          top: \"20px\",\r\n          right: \"20px\",\r\n        },\r\n      });\r\n    });\r\n  });\r\n};\r\n\r\nconst tag = () => {\r\n  const tags = document.querySelectorAll('.js-tag');\r\n\r\n  tags.forEach((tag) => {\r\n    tag.addEventListener('click', () => {\r\n      const isActive = tag.classList.contains('active');\r\n\r\n      if(isActive){\r\n        tag.classList.remove('active');\r\n      }else{\r\n        tag.classList.add('active');\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst cardChannel = () => {\r\n  const cards = document.querySelectorAll('.js-card-channel');\r\n\r\n  cards.forEach((card) => {\r\n    card.addEventListener('click', () => {\r\n      const cardObj = {};\r\n      cardObj.imgSrc = card.getAttribute('data-imgSrc');\r\n      cardObj.imgSrcWebp = card.getAttribute('data-imgsrcwebp');\r\n      cardObj.title = card.getAttribute('data-title');\r\n      cardObj.titleDesc = card.getAttribute('data-title-desc');\r\n      cardObj.number = card.getAttribute('data-number');\r\n      cardObj.desc = card.getAttribute('data-desc');\r\n\r\n      const isCardPopup = document.querySelector('.js-popup-channel') != null;\r\n\r\n      if(isCardPopup){\r\n        const cardPopup = document.querySelector('.js-popup-channel');\r\n\r\n        const img = cardPopup.querySelector('.js-img');\r\n        const imgSourceWebp = img.querySelector('.js-source-webp');\r\n        const imgSourcePng = img.querySelector('.js-source-png');\r\n        const imgSourceImg = img.querySelector('.js-source-img');\r\n        const title = cardPopup.querySelector('.js-title');\r\n        const isTitleDesc = cardPopup.querySelectorAll('.js-title-desc').length != 0;\r\n        const titleDesc = cardPopup.querySelector('.js-title-desc');\r\n        const numbers = cardPopup.querySelectorAll('.js-number');\r\n        const desc = cardPopup.querySelector('.js-desc');\r\n        const dataImgType = cardObj.imgSrc.split('.')[1];\r\n\r\n        cardPopup.classList.add('active');\r\n        OD.body.classList.add('overflow');\r\n        OD.warningNode.classList.add('hide');\r\n\r\n        imgSourceWebp.setAttribute('srcset', `${cardObj.imgSrcWebp}`);\r\n        imgSourcePng.setAttribute('srcset', `${cardObj.imgSrc}`);\r\n        imgSourcePng.setAttribute('type', `image/${dataImgType}`);\r\n        imgSourceImg.setAttribute('src', `${cardObj.imgSrc}`);\r\n        title.innerText = cardObj.title;\r\n        if(isTitleDesc){\r\n          titleDesc.innerText = cardObj.titleDesc;\r\n        }\r\n        numbers.forEach((number) => {\r\n          number.innerText = cardObj.number;\r\n        });\r\n        desc.innerText = cardObj.desc;\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst popupChannel = () => {\r\n  const popups = document.querySelectorAll('.js-popup-channel');\r\n\r\n  popups.forEach((popup) => {\r\n    const btnClose = popup.querySelector('.js-close');\r\n    const img = popup.querySelector('.js-img');\r\n    const imgSourceWebp = img.querySelector('.js-source-webp');\r\n    const imgSourcePng = img.querySelector('.js-source-png');\r\n    const imgSourceImg = img.querySelector('.js-source-img');\r\n    const title = popup.querySelector('.js-title');\r\n    const desc = popup.querySelector('.js-desc');\r\n    const content = popup.querySelector('.popup-channel__container');\r\n    const isTitleDesc = popup.querySelectorAll('.js-title-desc').length != 0;\r\n    const isNumber = popup.querySelectorAll('.js-number').length != 0;\r\n    if(isNumber){\r\n      const number = popup.querySelector('.js-number');\r\n    }\r\n\r\n    const close = () => {\r\n      popup.classList.remove('active');\r\n      OD.body.classList.remove('overflow');\r\n      OD.warningNode.classList.remove('hide');\r\n\r\n      imgSourceWebp.setAttribute('srcset', '');\r\n      imgSourcePng.setAttribute('srcset', '');\r\n      imgSourceImg.setAttribute('src', '');\r\n      title.innerText = '';\r\n      if(isNumber){\r\n        number.innerText = '';\r\n      }\r\n\r\n      if(isTitleDesc){\r\n        const titleDesc = popup.querySelector('.js-title-desc');\r\n        titleDesc.innerText = '';\r\n      }\r\n      desc.innerText = '';\r\n    };\r\n\r\n    btnClose.addEventListener('click', () => {\r\n      close();\r\n    });\r\n\r\n    document.addEventListener('keyup', (e) => {\r\n      const isEsc = e.keyCode == OD.ESC_CODE;\r\n      const isActive = popup.classList.contains('active');\r\n\r\n      if(isEsc && isActive){\r\n        close();\r\n      }\r\n    });\r\n\r\n    document.documentElement.addEventListener('click', function (event) {\r\n      const isPopupActive = popup.classList.contains('active');\r\n      var isClickWithinOpenedDiv = top_walker(event.target, function (node) {\r\n        return node === content\r\n      });\r\n      if (isClickWithinOpenedDiv) {\r\n\r\n      }else{\r\n        if(isPopupActive){\r\n          close();\r\n        }\r\n      }\r\n    }, true);\r\n  });\r\n};\r\n\r\nconst swiper = () => {\r\n  var swiper = new Swiper('.swiper-container', {\r\n    parallax: true,\r\n    speed: 700,\r\n    pagination: {\r\n      el: '.swiper-pagination',\r\n      clickable: true,\r\n    },\r\n    navigation: {\r\n      nextEl: '.js-slider-arrow-prev',\r\n      prevEl: '.js-slider-arrow-next',\r\n    },\r\n  });\r\n};\r\n\r\nconst toggle = () => {\r\n  const elems = document.querySelectorAll('.js-toggle');\r\n  const toggleBtns = document.querySelectorAll('.js-toggle-btn');\r\n\r\n  toggleBtns.forEach((btn) => {\r\n    btn.addEventListener('click', () => {\r\n      const toggle = btn.querySelector('.js-toggle');\r\n      const isActive = toggle.classList.contains('active');\r\n\r\n      if(isActive){\r\n        toggle.classList.remove('active');\r\n      }else{\r\n        toggle.classList.add('active');\r\n      }\r\n    });\r\n  });\r\n\r\n  elems.forEach((elem) => {\r\n    elem.addEventListener('click', () => {\r\n      const isActive = elem.classList.contains('active');\r\n\r\n      if(isActive){\r\n        elem.classList.remove('active');\r\n      }else{\r\n        elem.classList.add('active');\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst tariffSlider = () => {\r\n  const sliders = document.querySelectorAll('.js-slider-tariff');\r\n  const items = document.querySelectorAll('.js-type-item');\r\n\r\n  sliders.forEach((slider) => {\r\n    const options = {\r\n      dots: true,\r\n      arrows: true,\r\n      infinite: false,\r\n      speed: 400,\r\n      variableWidth: true,\r\n      prevArrow: `<button type=\"button\" class=\"arrow arrow--prev news-slider__btn news-slider__btn--prev\">\r\n            <svg class=\"icon icon--circle-arrow-prev\">\r\n              <use xlink:href=\"#circle-arrow-prev\"></use>\r\n            </svg>\r\n          </button>`,\r\n      nextArrow: `<button type=\"button\" class=\"arrow arrow--next news-slider__btn news-slider__btn--next\">\r\n        <svg class=\"icon icon--circle-arrow-next\">\r\n          <use xlink:href=\"#circle-arrow-next\"></use>\r\n        </svg>\r\n      </button>`,\r\n      responsive: [\r\n        {\r\n          breakpoint: 980,\r\n          settings: {\r\n            arrows: false\r\n          }\r\n        }\r\n      ]\r\n    };\r\n\r\n    $(slider).slick(options);\r\n\r\n  });\r\n};\r\n\r\nconst services = () => {\r\n  const elems = document.querySelectorAll('.js-services');\r\n\r\n  elems.forEach((elem) => {\r\n    const btn = elem.querySelector('.js-btn');\r\n    const btnClose = elem.querySelector('.js-close');\r\n\r\n    btn.addEventListener('click', () => {\r\n      const isActive = elem.classList.contains('active');\r\n\r\n      if(isActive){\r\n        elem.classList.remove('active');\r\n      }else{\r\n        elem.classList.add('active');\r\n      }\r\n    });\r\n\r\n    btnClose.addEventListener('click', () => {\r\n      elem.classList.remove('active');\r\n    });\r\n  });\r\n};\r\n\r\nconst popupGallery = () => {\r\n  const popupGalleryObj = {\r\n    slides: [],\r\n    movePrev() {\r\n      this.slides.forEach((slide, index) => {\r\n        const isActive = slide.active == true;\r\n        slide.active = false;\r\n\r\n        if(isActive){\r\n          let prevIndex = index - 1;\r\n          if(prevIndex <= 0){\r\n            prevIndex = 0;\r\n          }\r\n          const prevSlide = this.slides[prevIndex];\r\n          prevSlide.active = true;\r\n\r\n          this.changePopup(prevSlide);\r\n        }\r\n      });\r\n    },\r\n    moveNext() {\r\n      const lastIndex = this.slides.length - 1;\r\n      let currentItem = popupGalleryObj.slides.map(e => e.active).indexOf(true);\r\n      if(currentItem >= lastIndex){\r\n        currentItem = lastIndex - 1;\r\n      }\r\n\r\n      const nextItem = this.slides[currentItem + 1];\r\n\r\n      this.slides.forEach((slide) => {\r\n        slide.active = false;\r\n      });\r\n      nextItem.active = true;\r\n\r\n      this.changePopup(nextItem);\r\n    },\r\n    changePopup(slide) {\r\n      const popup = document.querySelector('.js-popup-gallery');\r\n      const img = popup.querySelector('.js-img');\r\n      const imgSourceWebp = img.querySelector('.js-source-webp');\r\n      const imgSourcePng = img.querySelector('.js-source-png');\r\n      const imgSourceImg = img.querySelector('.js-source-img');\r\n      const header = popup.querySelector('.js-header');\r\n\r\n      imgSourceWebp.setAttribute('srcset', `${slide.img}`);\r\n      imgSourcePng.setAttribute('srcset', `${slide.img}`);\r\n      imgSourceImg.setAttribute('src', `${slide.img}`);\r\n      header.innerText = slide.header;\r\n      \r\n      const dataImgType = imgSourcePng.srcset.split('.')[1];\r\n\r\n      imgSourcePng.setAttribute('type', `image/${dataImgType}`);\r\n    }\r\n  };\r\n  const openBtns = document.querySelectorAll('.js-popup-gallery-open');\r\n  const isOpenBtn = document.querySelectorAll('.js-popup-gallery-open').length != 0;\r\n\r\n  if(isOpenBtn){\r\n    const btnPrev = document.querySelector('.js-popup-btn--prev');\r\n    const btnNext = document.querySelector('.js-popup-btn--next');\r\n    const isImgFocus = document.querySelector('.js-is-img-focus');\r\n\r\n    if(isImgFocus){\r\n      const popup = document.querySelector('.js-popup-gallery');\r\n      popup.classList.add('popup-gallery--img-focus');\r\n    }\r\n\r\n    btnPrev.addEventListener('click', () => {\r\n      popupGalleryObj.movePrev();\r\n    });\r\n\r\n    btnNext.addEventListener('click', () => {\r\n      popupGalleryObj.moveNext();\r\n    });\r\n\r\n    openBtns.forEach((btn) => {\r\n      const popup = document.querySelector('.js-popup-gallery');\r\n      const galleryItems = document.querySelectorAll('.js-gallery-item');\r\n      const closeBtn = popup.querySelector('.js-close');\r\n      const img = popup.querySelector('.js-img');\r\n      const imgSourceWebp = img.querySelector('.js-source-webp');\r\n      const imgSourcePng = img.querySelector('.js-source-png');\r\n      const imgSourceImg = img.querySelector('.js-source-img');\r\n      const header = popup.querySelector('.js-header');\r\n      const content = popup.querySelector('.js-content');\r\n\r\n      const open = (dataImg, dataImgWebp, dataHeader) => {\r\n        const itemObj = {};\r\n        const dataImgType = dataImg.split('.')[1];\r\n\r\n        OD.body.classList.add('overflow');\r\n        popup.classList.add('active');\r\n        imgSourceWebp.setAttribute('srcset', `${dataImgWebp}`);\r\n        imgSourcePng.setAttribute('srcset', `${dataImg}`);\r\n        imgSourcePng.setAttribute('type', `image/${dataImgType}`);\r\n\r\n        imgSourceImg.setAttribute('src', `${dataImgWebp}`);\r\n        header.innerText = dataHeader;\r\n\r\n        const currentItem = btn.closest('.js-gallery-item');\r\n        if(currentItem){\r\n          currentItem.classList.add('active');\r\n        }else{\r\n          const firstItem = document.querySelector('.js-gallery-item');\r\n          firstItem.classList.add('active');\r\n        }\r\n\r\n        galleryItems.forEach((galleryItem, index) => {\r\n          const isActive = galleryItem.classList.contains('active');\r\n          const itemObj = {};\r\n          const dataImg = galleryItem.getAttribute('data-img');\r\n          const dataHeader = galleryItem.getAttribute('data-header');\r\n          itemObj.id = index;\r\n          itemObj.img = dataImg;\r\n          itemObj.header = dataHeader;\r\n          itemObj.active = false;\r\n          if(isActive){\r\n            itemObj.active = true;\r\n          }\r\n          popupGalleryObj.slides.push(itemObj);\r\n        });\r\n      };\r\n\r\n      const close = () => {\r\n        OD.body.classList.remove('overflow');\r\n        popup.classList.remove('active');\r\n        imgSourceWebp.setAttribute('srcset', ``);\r\n        imgSourcePng.setAttribute('srcset', ``);\r\n        imgSourceImg.setAttribute('src', ``);\r\n        header.innerText = '';\r\n\r\n        popupGalleryObj.slides = [];\r\n        galleryItems.forEach((galleryItem) => {\r\n          galleryItem.classList.remove('active');\r\n        });\r\n      };\r\n\r\n      btn.addEventListener('click', () => {\r\n        const dataImg = btn.getAttribute('data-img');\r\n        const dataImgWebp = btn.getAttribute('data-imgwebp');\r\n        const dataHeader = btn.getAttribute('data-header');\r\n        \r\n        open(dataImg, dataImgWebp, dataHeader);\r\n      });\r\n\r\n      closeBtn.addEventListener('click', () => {\r\n        close();\r\n      });\r\n\r\n      document.addEventListener('keyup', (e) => {\r\n        const isEsc = e.keyCode == OD.ESC_CODE;\r\n        const isActive = popup.classList.contains('active');\r\n\r\n        if(isEsc && isActive){\r\n          close();\r\n        }\r\n      });\r\n\r\n      document.documentElement.addEventListener('click', function (event) {\r\n        var isClickWithinOpenedDiv = top_walker(event.target, function (node) {\r\n          return node === content\r\n        });\r\n        if (isClickWithinOpenedDiv) {\r\n\r\n        }else{\r\n          close();\r\n        }\r\n      }, true);\r\n    });\r\n  }\r\n};\r\n\r\nconst mobileForm = () => {\r\n  const openBtns = document.querySelectorAll('.js-open-order-form');\r\n  const orderForm = document.querySelector('.js-order-form');\r\n\r\n  openBtns.forEach((openBtn) => {\r\n    const open = () => {\r\n\r\n      orderForm.classList.add('active');\r\n      OD.body.classList.add('overflow');\r\n    };\r\n\r\n    const close = () => {\r\n      orderForm.classList.remove('active');\r\n      OD.body.classList.remove('overflow');\r\n    };\r\n\r\n    openBtn.addEventListener('click', () => {\r\n      const isActive = orderForm.classList.contains('active');\r\n\r\n      if(isActive){\r\n        close();\r\n      }else{\r\n        open();\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst basketPopup = () => {\r\n  const openBtns = document.querySelectorAll('.js-basket-open');\r\n  const openBtnsMob = document.querySelectorAll('.js-basket-open-mob');\r\n  const section = document.querySelector('.js-basket');\r\n  const sectionMobile = document.querySelector('.js-basket-mobile');\r\n  const closeBtns = document.querySelectorAll('.js-close-basket');\r\n\r\n  const open = () => {\r\n    section.classList.add('active');\r\n  };\r\n\r\n  const close = () => {\r\n    section.classList.remove('active');\r\n  };\r\n\r\n  const openMob = () => {\r\n    sectionMobile.classList.add('active');\r\n    OD.body.classList.add('overflow');\r\n  };\r\n\r\n  const closeMob = () => {\r\n    sectionMobile.classList.remove('active');\r\n    OD.body.classList.remove('overflow');\r\n  };\r\n\r\n  openBtns.forEach((openBtn) => {\r\n    openBtn.addEventListener('click', () => {\r\n      const isActive = section.classList.contains('active');\r\n\r\n      if(isActive){\r\n        close();\r\n      }else{\r\n        open();\r\n      }\r\n    });\r\n  });\r\n\r\n  openBtnsMob.forEach((openBtnMob) => {\r\n    openBtnMob.addEventListener('click', () => {\r\n      const isActive = sectionMobile.classList.contains('active');\r\n\r\n      if(isActive){\r\n        closeMob();\r\n      }else{\r\n        openMob();\r\n      }\r\n    });\r\n  });\r\n\r\n  closeBtns.forEach((closeBtn) => {\r\n    closeBtn.addEventListener('click', () => {\r\n      const basket = closeBtn.closest('.js-basket-mobile');\r\n      basket.classList.remove('active');\r\n      OD.body.classList.remove('overflow');\r\n    });\r\n  });\r\n\r\n  document.documentElement.addEventListener('click', function (event) {\r\n    var isClickWithinOpenedDiv = top_walker(event.target, function (node) {\r\n      return node === section\r\n    });\r\n    const btn = event.target.classList.contains('js-basket-open');\r\n    \r\n    if (isClickWithinOpenedDiv && !btn) {\r\n\r\n    }else{\r\n      if(!btn){\r\n        close();\r\n      }\r\n    }\r\n  }, true);\r\n};\r\n\r\nconst newsSlider = () => {\r\n  const sliders = document.querySelectorAll('.js-news-slider');\r\n\r\n  sliders.forEach((slider) => {\r\n    const options = {\r\n      dots: false,\r\n      arrows: true,\r\n      infinite: true,\r\n      speed: 400,\r\n      prevArrow: `<button type=\"button\" class=\"news-slider__btn news-slider__btn--prev\">\r\n            <svg class=\"icon icon--circle-arrow-prev\">\r\n              <use xlink:href=\"#circle-arrow-prev\"></use>\r\n            </svg>\r\n          </button>`,\r\n      nextArrow: `<button type=\"button\" class=\"news-slider__btn news-slider__btn--next\">\r\n        <svg class=\"icon icon--circle-arrow-next\">\r\n          <use xlink:href=\"#circle-arrow-next\"></use>\r\n        </svg>\r\n      </button>`,\r\n      dots: true\r\n    };\r\n\r\n    $(slider).slick(options);\r\n  });\r\n};\r\n\r\nconst subTag = () => {\r\n  const btns = document.querySelectorAll('.js-subtag-btn');\r\n\r\n  btns.forEach((btn) => {\r\n    btn.addEventListener('click', () => {\r\n      btn.classList.toggle('active');\r\n    });\r\n  });\r\n};\r\n\r\nconst switcher = () => {\r\n  const elems = document.querySelectorAll('.js-switcher');\r\n  const cardsContainers = document.querySelectorAll('.js-card-channel-col');\r\n\r\n  elems.forEach((elem) => {\r\n    const btns = elem.querySelectorAll('.js-switcher-btn');\r\n\r\n    btns.forEach((btn) => {\r\n      btn.addEventListener('click', () => {\r\n        const isRow = btn.classList.contains('row');\r\n\r\n        if(isRow){\r\n          cardsContainers.forEach((cardsContainer) => {\r\n            cardsContainer.classList.remove('column');\r\n          });\r\n        }else{\r\n          cardsContainers.forEach((cardsContainer) => {\r\n            cardsContainer.classList.add('column');\r\n          });\r\n        }\r\n      });\r\n    });\r\n  });\r\n};\r\n\r\nconst tariffThemeSwitch = () => {\r\n  const isSection = document.querySelectorAll('.js-tariffs').length != 0;\r\n\r\n  if(isSection){\r\n    const section = document.querySelector('.js-tariffs');\r\n    const elems = section.querySelectorAll('.js-type-li');\r\n    const tabBtns = section.querySelectorAll('.tab-list__li');\r\n\r\n    tabBtns.forEach((tabBtn) => {\r\n      tabBtn.addEventListener('click', () => {\r\n        const tabItemActive = tabBtn.closest('.js-tariffs').querySelector('.js-tab-item.active');\r\n        const activeThemeColor = tabItemActive.querySelector('.js-type-li.active').getAttribute('data-themecolor');\r\n\r\n        const imgCol = tabItemActive.querySelector('.js-img-col');\r\n        const typeLi = tabItemActive.querySelectorAll('.js-type-li');\r\n\r\n        imgCol.style = `background: ${activeThemeColor}`;\r\n        typeLi.forEach((typeLi) => {\r\n          const typeItem = typeLi.querySelector('.js-type-item');\r\n          typeItem.style = `border-color: ${activeThemeColor}`;\r\n        });\r\n      });\r\n    });\r\n\r\n    elems.forEach((elem) => {\r\n      elem.addEventListener('click', () => {\r\n        const dataTheme = elem.getAttribute('data-themecolor');\r\n\r\n        const tariffCard = elem.closest('.js-tariff-card');\r\n        const imgCol = tariffCard.querySelector('.js-img-col');\r\n        const typeLi = tariffCard.querySelectorAll('.js-type-li');\r\n\r\n        imgCol.style = `background: ${dataTheme}`;\r\n        typeLi.forEach((typeLi) => {\r\n          const typeItem = typeLi.querySelector('.js-type-item');\r\n          typeItem.style = `border-color: ${dataTheme}`;\r\n        });\r\n      });\r\n    });\r\n  }\r\n};\r\n\r\nconst productAnimate = () => {\r\n  const elems = document.querySelectorAll('.js-product-animate');\r\n\r\n  elems.forEach((elem) => {\r\n    const icon = document.querySelector('.js-icon-animate');\r\n    const iconMobile = document.querySelector('.js-icon-animate-mobile');\r\n\r\n    elem.addEventListener('click', () => {\r\n      const isActive = elem.querySelector('.js-toggle').classList.contains('active');\r\n      const basket = document.querySelector('.js-basket-open');\r\n      const basketMobile = document.querySelector('.js-basket-open-mob');\r\n      const basketCoords = getCoords(basket);\r\n      const basketCoordsMobile = getCoords(basketMobile);\r\n      const btnCoords = getCoords(elem.querySelector('.icon'));\r\n\r\n      if(isActive){\r\n        icon.animate([\r\n          {left: `${btnCoords.left}px`, top: `${btnCoords.top}px`, opacity: 1},\r\n          {left: `${basketCoords.left + 37}px`, top: `${basketCoords.top + 10}px`, opacity: 0.5},\r\n          {left: `${basketCoords.left + 37}px`, top: `${basketCoords.top + 10}px`, opacity: 0},\r\n        ], {\r\n          duration: 800,\r\n          easing: 'ease-in'\r\n        });\r\n\r\n        iconMobile.animate([\r\n          {left: `${btnCoords.left}px`, top: `${btnCoords.top}px`, opacity: 1},\r\n          {left: `${basketCoordsMobile.left - 2}px`, top: `${basketCoordsMobile.top - 6}px`, opacity: .5},\r\n          {left: `${basketCoordsMobile.left - 2}px`, top: `${basketCoordsMobile.top - 6}px`, opacity: 0},\r\n        ], {\r\n          duration: 800,\r\n          easing: 'ease-in'\r\n        });\r\n\r\n      }else{\r\n\r\n      }\r\n\r\n    });\r\n  });\r\n};\r\n\r\nconst tariffSwitcher = () => {\r\n  const btns = document.querySelectorAll('.js-make-tariff');\r\n\r\n  btns.forEach((btn) => {\r\n    btn.addEventListener('click', () => {\r\n      const isActive = btn.querySelector('.js-toggle').classList.contains('active');\r\n      const currentItem = btn.closest('.js-tariff-item');\r\n      const toggles = currentItem.querySelectorAll('.js-tariff-services .js-toggle');\r\n\r\n      const open = () => {\r\n        toggles.forEach((toggle) => {\r\n          toggle.classList.add('disabled');\r\n        });\r\n      };\r\n\r\n      const close = () => {\r\n        toggles.forEach((toggle) => {\r\n          toggle.classList.remove('disabled');\r\n        });\r\n      };\r\n\r\n      if(isActive){\r\n        close();\r\n      }else{\r\n        open();\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst warning = () => {\r\n  const isWarning = document.querySelectorAll('.js-warning').length != 0;\r\n\r\n  if(isWarning){\r\n    const warning = document.querySelector('.js-warning');\r\n    const btnClose = warning.querySelector('.js-close');\r\n\r\n    btnClose.addEventListener('click', () => {\r\n      const isActive = warning.classList.contains('active');\r\n\r\n      if(isActive){\r\n        warning.classList.remove('active');\r\n      }else{\r\n        warning.classList.add('active');\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nconst tariffDetailSlider = () => {\r\n  const sliders = document.querySelectorAll('.js-tariff-detail-slider');\r\n\r\n  sliders.forEach((slider) => {\r\n    const isSlideToIndex = slider.querySelectorAll('.slideTo').length != 0;\r\n    const mobile = window.matchMedia('(max-width: 980px)').matches;\r\n    let slideToIndex = 0;\r\n\r\n    if(isSlideToIndex){\r\n      const slides = slider.querySelectorAll('.js-tariff-item');\r\n      slides.forEach((slide, index) => {\r\n        const isSlideTo = slide.classList.contains('slideTo');\r\n\r\n        if(isSlideTo){\r\n          if(mobile){\r\n            slideToIndex = index;\r\n          }else{\r\n            slideToIndex = index - 1;\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    console.log(slideToIndex);\r\n\r\n    const options = {\r\n      initialSlide: slideToIndex,\r\n      dots: true,\r\n      arrows: true,\r\n      infinite: true,\r\n      speed: 400,\r\n      variableWidth: true,\r\n      prevArrow: `<button type=\"button\" class=\"arrow arrow--prev news-slider__btn news-slider__btn--prev\">\r\n            <svg class=\"icon icon--circle-arrow-prev\">\r\n              <use xlink:href=\"#circle-arrow-prev\"></use>\r\n            </svg>\r\n          </button>`,\r\n      nextArrow: `<button type=\"button\" class=\"arrow arrow--next news-slider__btn news-slider__btn--next\">\r\n        <svg class=\"icon icon--circle-arrow-next\">\r\n          <use xlink:href=\"#circle-arrow-next\"></use>\r\n        </svg>\r\n      </button>`,\r\n    };\r\n\r\n    $(slider).slick(options);\r\n\r\n    const changeArrowPosition = () => {\r\n      const fromMobile = window.matchMedia('(min-width: 981px)').matches;\r\n      if(fromMobile){\r\n        clearInterval(timer);\r\n        const timer = setTimeout(() => {\r\n          const arrowPrev = slider.closest('div').querySelector('.arrow--prev');\r\n          const arrowNext = slider.closest('div').querySelector('.arrow--next');\r\n          const imgHeight = slider.querySelector('.tariff-detail__img-col').offsetHeight / 2;\r\n\r\n          arrowPrev.style.top = `${imgHeight}px`;\r\n          arrowNext.style.top = `${imgHeight}px`;\r\n        }, 300);\r\n      }\r\n    };\r\n\r\n    changeArrowPosition();\r\n\r\n    window.addEventListener('resize', () => {\r\n      changeArrowPosition();\r\n    });\r\n  });\r\n};\r\n\r\nconst OD = {};\r\nOD.body = document.querySelector('body');\r\nOD.ESC_CODE = 27;\r\nOD.siteContent = document.querySelector('.site-content');\r\nOD.footer = document.querySelector('.page-footer');\r\nOD.isIe11 = !!window.MSInputMethodContext && !!document.documentMode;\r\nOD.dropdown = document.querySelector('.js-global-dropdown');\r\nOD.globalDropdown = '';\r\n\r\n\r\nif(OD.isIe11){\r\n  OD.body.classList.add('ie11');\r\n}\r\n\r\nfunction getCoords(elem) {\r\n  let box = elem.getBoundingClientRect();\r\n\r\n  return {\r\n    top: box.top + pageYOffset,\r\n    left: box.left + pageXOffset\r\n  };\r\n}\r\n\r\nfunction top_walker (node, test_func, last_parent) {\r\n\twhile ( node && node !== last_parent ) {\r\n\t\tif ( test_func(node) ) {\r\n\t\t\treturn node;\r\n\t\t}\r\n\t\tnode = node.parentNode;\r\n\t}\r\n}\r\n\r\n// siblings\r\nvar getSiblings = function (elem) {\r\n  var siblings = [];\r\n  var sibling = elem.parentNode.firstChild;\r\n\r\n  while (sibling) {\r\n    if (sibling.nodeType === 1 && sibling !== elem) {\r\n      siblings.push(sibling);\r\n    }\r\n    sibling = sibling.nextSibling\r\n  }\r\n\r\n  return siblings;\r\n\r\n};\r\n\r\nconst isWarning = document.querySelectorAll('.js-warning').length != 0;\r\nif(isWarning){\r\n  OD.warningNode = document.querySelector('.js-warning');\r\n}\r\n\r\n// utility\r\nmasks();\r\nparsley();\r\nwow();\r\ntabs();\r\nselect();\r\naccordion();\r\ntoggle();\r\npopupGallery();\r\nproductAnimate();\r\ntariffSwitcher();\r\n\r\n// specific\r\norderForm();\r\nmobileMenu();\r\nmap();\r\ntag();\r\ncardChannel();\r\npopupChannel();\r\nservices();\r\nmobileForm();\r\nbasketPopup();\r\nsubTag();\r\nswitcher();\r\ntariffThemeSwitch();\r\nwarning();\r\n\r\n// sliders\r\nswiper();\r\nhistorySlider();\r\ntariffSlider();\r\nnewsSlider();\r\ntariffDetailSlider();\r\n\r\n"]}